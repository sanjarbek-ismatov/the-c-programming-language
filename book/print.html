<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The C programming Language 2nd Edition</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The C programming Language 2nd Edition</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="preface"><a class="header" href="#preface"><strong>Preface</strong></a></h1>
<p>The computing world has undergone a revolution since the publication of <strong>The C Programming Language</strong> in <em>1978</em>. Big computers are much bigger, and personal computers have capabilities that rival mainframes of a decade ago. During this time, <strong>C</strong> has changed too, although only modestly, and it has spread far beyond its origins as the language of the <strong>UNIX</strong> operating system.</p>
<p>The growing popularity of <strong>C</strong>, the changes in the language over the years, and the creation of compilers by groups not involved in its design, combined to demonstrate a need for a more precise and more contemporary definition of the language than the first edition of this book provided. In <em>1983</em>, the <strong>American National Standards Institute (ANSI)</strong> established a committee whose goal was to produce <em>"an unambiguous and machine-independent definition of the language C"</em>, while still retaining its spirit. The result is the <strong>ANSI standard for C</strong>.</p>
<p>The standard formalizes constructions that were hinted but not described in the first edition, particularly <strong>structure assignment</strong> and <strong>enumerations</strong>. It provides a new form of <strong>function declaration</strong> that permits cross-checking of definition with use. It specifies a <strong>standard library</strong>, with an extensive set of functions for performing input and output, memory management, string manipulation, and similar tasks. It makes precise the behavior of features that were not spelled out in the original definition, and at the same time states explicitly which aspects of the language remain machine-dependent.</p>
<p>This <strong>Second Edition</strong> of <strong>The C Programming Language</strong> describes <strong>C</strong> as defined by the <strong>ANSI standard</strong>. Although we have noted the places where the language has evolved, we have chosen to write exclusively in the new form. For the most part, this makes no significant difference; the most visible change is the new form of function declaration and definition. Modern compilers already support most features of the standard.</p>
<p>We have tried to retain the brevity of the first edition. <strong>C</strong> is not a big language, and it is not well served by a big book. We have improved the exposition of critical features, such as <strong>pointers</strong>, that are central to <strong>C programming</strong>. We have refined the original examples, and have added new examples in several chapters. For instance, the treatment of complicated declarations is augmented by programs that convert declarations into words and vice versa. As before, all examples have been tested directly from the text, which is in machine-readable form.</p>
<p><strong>Appendix A</strong>, the reference manual, is not the standard, but our attempt to convey the essentials of the standard in a smaller space. It is meant for easy comprehension by programmers, but not as a definition for compiler writers -- that role properly belongs to the standard itself. <strong>Appendix B</strong> is a summary of the facilities of the standard library. It too is meant for reference by programmers, not implementers. <strong>Appendix C</strong> is a concise summary of the changes from the original version.</p>
<p>As we said in the preface to the first edition, <strong>C</strong> "<em>wears well as one's experience with it grows</em>". With a decade more experience, we still feel that way. We hope that this book will help you learn <strong>C</strong> and use it well.</p>
<p>We are deeply indebted to friends who helped us to produce this second edition. <strong>Jon Bently</strong>, <strong>Doug Gwyn</strong>, <strong>Doug McIlroy</strong>, <strong>Peter Nelson</strong>, and <strong>Rob Pike</strong> gave us perceptive comments on almost every page of draft manuscripts. We are grateful for careful reading by <strong>Al Aho</strong>, <strong>Dennis Allison</strong>, <strong>Joe Campbell</strong>, <strong>G.R. Emlin</strong>, <strong>Karen Fortgang</strong>, <strong>Allen Holub</strong>, <strong>Andrew Hume</strong>, <strong>Dave Kristol</strong>, <strong>John Linderman</strong>, <strong>Dave Prosser</strong>, <strong>Gene Spafford</strong>, and <strong>Chris van Wyk</strong>. We also received helpful suggestions from <strong>Bill Cheswick</strong>, <strong>Mark Kernighan</strong>, <strong>Andy Koenig</strong>, <strong>Robin Lake</strong>, <strong>Tom London</strong>, <strong>Jim Reeds</strong>, <strong>Clovis Tondo</strong>, and <strong>Peter Weinberger</strong>. <strong>Dave Prosser</strong> answered many detailed questions about the <strong>ANSI standard</strong>. We used <strong>Bjarne Stroustrup</strong>'s <strong>C++ translator</strong> extensively for local testing of our programs, and <strong>Dave Kristol</strong> provided us with an <strong>ANSI C compiler</strong> for final testing. <strong>Rich Drechsler</strong> helped greatly with typesetting.</p>
<p>Our sincere thanks to all. <br>
<em><strong>Brian W. Kernighan</strong></em> <br>
<em><strong>Dennis M. Ritchie</strong></em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="preface-to-the-first-edition"><a class="header" href="#preface-to-the-first-edition">Preface to the first edition</a></h1>
<p><strong>C</strong> is a <em>general-purpose programming language</em> with features: <strong>economy of expression</strong>, <em>modern flow control and data structures</em>, and a <em>rich set of operators</em>. C is not a "<strong>very high level</strong>" language, nor a "<strong>big</strong>" one, and is not specialized to any particular area of application. But its <em>absence of restrictions</em> and its <em>generality</em> make it more convenient and effective for many tasks than supposedly more powerful languages.</p>
<p>C was originally designed for and implemented on the <strong>UNIX operating system</strong> on the <strong>DEC PDP-11</strong>, by <em>Dennis Ritchie</em>. The operating system, the C compiler, and essentially all UNIX applications programs (including all of the software used to prepare this book) are written in <strong>C</strong>. Production compilers also exist for several other machines, including the <strong>IBM System/370</strong>, the <strong>Honeywell 6000</strong>, and the <strong>Interdata 8/32</strong>. C is not tied to any particular hardware or system, however, and it is easy to write programs that will run without change on any machine that supports C.</p>
<p>This book is meant to help the reader <em>learn how to program in C</em>. It contains a <strong>tutorial introduction</strong> to get new users started as soon as possible, separate chapters on each major feature, and a <strong>reference manual</strong>. Most of the treatment is based on <em>reading, writing and revising examples</em>, rather than on mere statements of rules. For the most part, the examples are <em>complete, real programs</em> rather than isolated fragments. All examples have been <em>tested directly from the text</em>, which is in machine-readable form. Besides showing how to make effective use of the language, we have also tried where possible to illustrate <em>useful algorithms</em> and <em>principles of good style and sound design</em>.</p>
<p>The book is <em>not an introductory programming manual</em>; it assumes some familiarity with basic programming concepts like <strong>variables</strong>, <strong>assignment statements</strong>, <strong>loops</strong>, and <strong>functions</strong>. Nonetheless, a <em>novice programmer</em> should be able to read along and pick up the language, although access to a more knowledgeable colleague will help.</p>
<p>In our experience, <strong>C</strong> has proven to be a <em>pleasant, expressive and versatile language</em> for a wide variety of programs. It is <em>easy to learn</em>, and it <em>wears well as one's experience with it grows</em>. We hope that this book will help you to use it well.</p>
<p>The thoughtful criticisms and suggestions of many friends and colleagues have added greatly to this book and to our pleasure in writing it. In particular, <strong>Mike Bianchi, Jim Blue, Stu Feldman, Doug McIlroy, Bill Roome, Bob Rosin</strong> and <strong>Larry Rosler</strong> all read multiple volumes with care. We are also indebted to <strong>Al Aho, Steve Bourne, Dan Dvorak, Chuck Haley, Debbie Haley, Marion Harris, Rick Holt, Steve Johnson, John Mashey, Bob Mitze, Ralph Muha, Peter Nelson, Elliot Pinson, Bill Plauger, Jerry Spivack, Ken Thompson</strong>, and <strong>Peter Weinberger</strong> for helpful comments at various stages, and to <strong>Mike Lesk</strong> and <strong>Joe Ossanna</strong> for invaluable assistance with typesetting.</p>
<p><em><strong>Brian W. Kernighan</strong></em><br>
<em><strong>Dennis M. Ritchie</strong></em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-1---a-tutorial-introduction"><a class="header" href="#chapter-1---a-tutorial-introduction">Chapter 1 - <em>A Tutorial Introduction</em></a></h1>
<p>Let us begin with a quick introduction in <strong>C</strong>. Our aim is to show the <em>essential elements</em> of the language in real programs, but without getting bogged down in details, rules, and exceptions. At this point, we are not trying to be complete or even precise (save that the examples are meant to be correct). We want to get you as quickly as possible to the point where you can write <em>useful programs</em>, and to do that we have to concentrate on the basics: <strong>variables and constants, arithmetic, control flow, functions, and the rudiments of input and output</strong>. We are intentionally leaving out of this chapter features of <strong>C</strong> that are important for writing bigger programs. These include <strong>pointers, structures, most of C's rich set of operators, several control-flow statements, and the standard library</strong>.</p>
<p>This approach has its <em>drawbacks</em>. Most notable is that the <em>complete story</em> on any particular feature is not found here, and the tutorial, by being brief, may also be <em>misleading</em>. And because the examples do not use the full power of <strong>C</strong>, they are not as concise and elegant as they might be. We have tried to minimize these effects, but be warned. Another drawback is that later chapters will necessarily repeat some of this chapter. We hope that the <em>repetition</em> will help you more than it annoys.</p>
<p>In any case, <em>experienced programmers</em> should be able to extrapolate from the material in this chapter to their own programming needs. <em>Beginners</em> should supplement it by writing small, similar programs of their own. Both groups can use it as a <em>framework</em> on which to hang the more detailed descriptions that begin in <a href=""><strong>Chapter 2</strong></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="11-getting-started"><a class="header" href="#11-getting-started">1.1 Getting Started</a></h2>
<p>The only way to learn a new programming language is by <em>writing programs in it</em>. The first program to write is the same for all languages:<br />
<strong>Print the words</strong><br />
<code>hello, world</code></p>
<p>This is a <em>big hurdle</em>; to leap over it you have to be able to create the program text somewhere, compile it successfully, load it, run it, and find out where your output went. With these mechanical details mastered, everything else is <em>comparatively easy</em>.</p>
<p>In C, the program to print <code>hello, world</code> is</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
main()
{
    printf("hello, world\n");
}
</code></pre>
<p>Just how to run this program depends on the system you are using. As a specific example, on the <strong>UNIX operating system</strong> you must create the program in a file whose name ends in <code>.c</code>, such as <code>hello.c</code>, then compile it with the command</p>
<pre><code>cc hello.c
</code></pre>
<p>If you haven't botched anything, such as omitting a character or misspelling something, the compilation will proceed <em>silently</em>, and make an executable file called <code>a.out</code>. If you run <code>a.out</code> by typing the command</p>
<pre><code>a.out
</code></pre>
<p>it will print</p>
<pre><code>hello, world
</code></pre>
<p>On other systems, the rules will be different; check with a <em>local expert</em>.</p>
<p>Now, for some explanations about the program itself. A C program, whatever its size, consists of <strong>functions</strong> and <strong>variables</strong>. A function contains <em>statements</em> that specify the computing operations to be done, and variables store values used during the computation. C functions are like the <em>subroutines and functions</em> in Fortran or the <em>procedures and functions</em> of Pascal. Our example is a function named <code>main</code>. Normally you are at liberty to give functions whatever names you like, but <code>main</code> is <em>special</em> — your program begins executing at the beginning of <code>main</code>. This means that <em>every program must have a <code>main</code> somewhere</em>.</p>
<p><code>main</code> will usually call other functions to help perform its job, some that you wrote, and others from libraries that are provided for you. The first line of the program,</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
</code></pre>
<p>tells the compiler to include information about the <strong>standard input/output library</strong>; the line appears at the beginning of many C source files. The standard library is described in <a href="">Chapter 7</a> and <a href="">Appendix B</a>.</p>
<p>One method of communicating data between functions is for the calling function to provide a list of values, called <em>arguments</em>, to the function it calls. The parentheses after the function name surround the argument list. In this example, <code>main</code> is defined to be a function that expects <em>no arguments</em>, which is indicated by the empty list <code>()</code>.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
main()
{
    printf("hello, world\n");
}
</code></pre>
<h3 id="the-first-c-program"><a class="header" href="#the-first-c-program">The first C program</a></h3>
<p>The statements of a function are enclosed in braces <code>{ }</code>. The function <code>main</code> contains only <em>one statement</em>:</p>
<pre><code class="language-c">printf("hello, world\n");
</code></pre>
<p>A function is called by naming it, followed by a parenthesized list of arguments, so this calls the function <code>printf</code> with the argument <code>"hello, world\n"</code>. <code>printf</code> is a <em>library function</em> that prints output, in this case the string of characters between the quotes.</p>
<p>A sequence of characters in double quotes, like <code>"hello, world\n"</code>, is called a <strong>character string</strong> or <strong>string constant</strong>. For the moment our only use of character strings will be as arguments for <code>printf</code> and other functions.</p>
<p>The sequence <code>\n</code> in the string is C notation for the <strong>newline character</strong>, which when printed advances the output to the left margin on the next line. If you leave out the <code>\n</code> (<em>a worthwhile experiment</em>), you will find that there is no line advance after the output is printed. You must use <code>\n</code> to include a newline character in the <code>printf</code> argument; if you try something like</p>
<pre><code class="language-c">printf("hello, world
");
</code></pre>
<p>the C compiler will produce an <em>error message</em>.</p>
<p><code>printf</code> never supplies a newline character automatically, so several calls may be used to build up an output line in stages. Our first program could just as well have been written</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
main()
{
    printf("hello, ");
    printf("world");
    printf("\n");
}
</code></pre>
<p>to produce <em>identical output</em>.</p>
<p>Notice that <code>\n</code> represents only a <em>single character</em>. An <em>escape sequence</em> like <code>\n</code> provides a general and extensible mechanism for representing hard-to-type or invisible characters. Among the others that C provides are <code>\t</code> for tab, <code>\b</code> for backspace, <code>\"</code> for the double quote and <code>\\</code> for the backslash itself. There is a complete list in Section 2.3.</p>
<p><strong>Exercise 1-1.</strong> <em>Run the <code>hello, world</code> program on your system. Experiment with leaving out parts of the program, to see what error messages you get.</em></p>
<p><strong>Exercise 1-2.</strong> <em>Experiment to find out what happens when <code>printf</code>'s argument string contains <code>\c</code>, where <code>c</code> is some character not listed above.</em></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="12-variables-and-arithmetic-expressions"><a class="header" href="#12-variables-and-arithmetic-expressions">1.2 Variables and Arithmetic Expressions</a></h2>
<p>The next program uses the formula <strong>°C = (5/9)(°F-32)</strong> to print the following table of Fahrenheit temperatures and their centigrade or Celsius equivalents:</p>
<pre><code>  1  -17
 20   -6
 40    4
 60   15
 80   26
100   37
120   48
140   60
160   71
180   82
200   93
220  104
240  115
260  126
280  137
300  148
</code></pre>
<p>The program itself still consists of the definition of a single function named <code>main</code>. It is longer than the one that printed <strong>hello, world</strong>, but not complicated. It introduces several new ideas, including <em>comments</em>, <em>declarations</em>, <em>variables</em>, <em>arithmetic expressions</em>, <em>loops</em>, and <em>formatted output</em>.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
/* print Fahrenheit-Celsius table
for fahr = 0, 20, ..., 300 */
main()
{
        int fahr, celsius;
        int lower, upper, step;
        lower = 0; /* lower limit of temperature scale */
        upper = 300; /* upper limit */
        step = 20; /* step size */
        fahr = lower;
        while (fahr &lt;= upper) {
                celsius = 5 * (fahr-32) / 9;
                printf("%d\t%d\n", fahr, celsius);
                fahr = fahr + step;
        }
}
</code></pre>
<p>The two lines</p>
<pre><code class="language-c">/* print Fahrenheit-Celsius table
for fahr = 0, 20, ..., 300 */
</code></pre>
<p>are a <em><strong>comment</strong></em>, which in this case explains briefly what the program does. Any characters between <code>/*</code> and <code>*/</code> are ignored by the compiler; they may be used freely to make a program easier to understand. <em>Comments may appear anywhere where a blank, tab or newline can.</em></p>
<p>In C, <strong>all variables must be declared before they are used</strong>, usually at the beginning of the function before any executable statements. A <em>declaration</em> announces the properties of variables; it consists of a <em>type</em> and a <em>list of variables</em>, such as</p>
<pre><code class="language-c">int fahr, celsius;
int lower, upper, step;
</code></pre>
<p>The type <code>int</code> means that the variables listed are <em>integers</em>; by contrast with <code>float</code>, which means <em>floating point</em>, i.e., numbers that may have a fractional part. The range of both <code>int</code> and <code>float</code> depends on the machine you are using; <em>16-bit ints</em>, which lie between -32768 and +32767, are common, as are <em>32-bit ints</em>. A <code>float</code> number is typically a <em>32-bit quantity</em>, with at least six significant digits and magnitude generally between about 10^-38 and 10^38.</p>
<p>C provides several other data types besides <code>int</code> and <code>float</code>, including:</p>
<div class="table-wrapper"><table><thead><tr><th><strong>Type</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td><code>char</code></td><td><em>character</em> - a single byte</td></tr>
<tr><td><code>short</code></td><td><em>short integer</em></td></tr>
<tr><td><code>long</code></td><td><em>long integer</em></td></tr>
<tr><td><code>double</code></td><td><em>double-precision floating point</em></td></tr>
</tbody></table>
</div>
<p>The size of these objects is also <em>machine-dependent</em>. There are also <em>arrays</em>, <em>structures</em>, and <em>unions</em> of these basic types, <em>pointers</em> to them, and <em>functions</em> that return them, all of which we will meet in due course.</p>
<p>Computation in the temperature conversion program begins with the <em>assignment statements</em>:</p>
<pre><code class="language-c">lower = 0;
upper = 300;
step = 20;
</code></pre>
<p>which set the variables to their <em>initial values</em>. Individual statements are terminated by <em>semicolons</em>.</p>
<p>Each line of the table is computed the same way, so we use a <em>loop</em> that repeats once per output line; this is the purpose of the <strong>while</strong> loop.</p>
<pre><code class="language-c">while (fahr &lt;= upper) {
                ...
}
</code></pre>
<p>The <strong>while</strong> loop operates as follows: The <em>condition</em> in parentheses is tested. If it is <em>true</em> (<code>fahr</code> is less than or equal to <code>upper</code>), the <em>body of the loop</em> (the three statements enclosed in braces) is executed. Then the condition is re-tested, and if true, the body is executed again. When the test becomes <em>false</em> (<code>fahr</code> exceeds <code>upper</code>) the loop ends, and execution continues at the statement that follows the loop. There are no further statements in this program, so it terminates.</p>
<p>The body of a <strong>while</strong> can be one or more statements enclosed in braces, as in the temperature converter, or a single statement without braces, as in</p>
<pre><code class="language-c">while (i &lt; j)
                i = 2 * i;
</code></pre>
<p>In either case, we will always <em>indent</em> the statements controlled by the <strong>while</strong> by one tab stop (which we have shown as four spaces) so you can see at a glance which statements are inside the loop. The indentation emphasizes the <em>logical structure</em> of the program. Although C compilers do not care about how a program looks, <strong>proper indentation and spacing are critical</strong> in making programs easy for people to read. We recommend writing only one statement per line, and using blanks around operators to clarify grouping. The position of braces is less important, although people hold passionate beliefs. <em>Pick a style that suits you, then use it consistently.</em></p>
<p>Most of the work gets done in the body of the loop. The Celsius temperature is computed and assigned to the variable <code>celsius</code> by the statement</p>
<pre><code class="language-c">celsius = 5 * (fahr-32) / 9;
</code></pre>
<p>The reason for multiplying by 5 and dividing by 9 instead of just multiplying by 5/9 is that in C, as in many other languages, <em>integer division truncates</em>: any fractional part is discarded. Since 5 and 9 are integers, <code>5/9</code> would be truncated to zero and so all the Celsius temperatures would be reported as zero.</p>
<p>This example also shows a bit more of how <code>printf</code> works. <code>printf</code> is a <em>general-purpose output formatting function</em>, which we will describe in detail in <a href="">Chapter 7</a>. Its first argument is a <em>string of characters to be printed</em>, with each <code>%</code> indicating where one of the other (second, third, ...) arguments is to be substituted, and in what form it is to be printed. For instance, <code>%d</code> specifies an <em>integer argument</em>, so the statement</p>
<pre><code class="language-c">printf("%d\t%d\n", fahr, celsius);
</code></pre>
<p>causes the values of the two integers <code>fahr</code> and <code>celsius</code> to be printed, with a <em>tab</em> (<code>\t</code>) between them.</p>
<p>Each <code>%</code> construction in the first argument of <code>printf</code> is paired with the corresponding second argument, third argument, etc.; <em>they must match up properly by number and type</em>, or you will get wrong answers.</p>
<p>By the way, <code>printf</code> is <em>not part of the C language</em>; there is no input or output defined in C itself. <code>printf</code> is just a useful function from the <em>standard library</em> of functions that are normally accessible to C programs. The behaviour of <code>printf</code> is defined in the <em>ANSI standard</em>, however, so its properties should be the same with any compiler and library that conforms to the standard.</p>
<p>In order to concentrate on C itself, we don't talk much about input and output until Chapter 7. In particular, we will defer formatted input until then. If you have to input numbers, read the discussion of the function <code>scanf</code> in Section 7.4. <code>scanf</code> is like <code>printf</code>, except that it <em>reads input instead of writing output</em>.</p>
<p>There are a couple of problems with the temperature conversion program. The simpler one is that the output isn't very pretty because the numbers are not right-justified. That's easy to fix; if we augment each <code>%d</code> in the <code>printf</code> statement with a <em>width</em>, the numbers printed will be right-justified in their fields. For instance, we might say</p>
<pre><code class="language-c">printf("%3d %6d\n", fahr, celsius);
</code></pre>
<p>to print the first number of each line in a field <em>three digits wide</em>, and the second in a field <em>six digits wide</em>, like this:</p>
<pre><code> 0    -17
 20    -6
 40     4
 60    15
 80    26
100    37
...
</code></pre>
<p>The more serious problem is that because we have used integer arithmetic, the Celsius temperatures are not very accurate; for instance, 0°F is actually about -17.8°C, not -17. To get more accurate answers, we should use <em>floating-point arithmetic</em> instead of integer. This requires some changes in the program. Here is the second version:</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
/* print Fahrenheit-Celsius table
for fahr = 0, 20, ..., 300; floating-point version */
main()
{
        float fahr, celsius;
        float lower, upper, step;
        lower = 0; /* lower limit of temperature scale */
        upper = 300; /* upper limit */
        step = 20; /* step size */
        fahr = lower;
        while (fahr &lt;= upper) {
                celsius = (5.0/9.0) * (fahr-32.0);
                printf("%3.0f %6.1f\n", fahr, celsius);
                fahr = fahr + step;
        }
}
</code></pre>
<p>This is much the same as before, except that <code>fahr</code> and <code>celsius</code> are declared to be <em>float</em> and the formula for conversion is written in a more natural way. We were unable to use <code>5/9</code> in the previous version because integer division would truncate it to zero. A decimal point in a constant indicates that it is <em>floating point</em>, however, so <code>5.0/9.0</code> is not truncated because it is the ratio of two floating-point values.</p>
<p>If an arithmetic operator has integer operands, an <em>integer operation</em> is performed. If an arithmetic operator has one <em>floating-point operand</em> and one <em>integer operand</em>, however, the integer will be converted to floating point before the operation is done. If we had written <code>(fahr-32)</code>, the <code>32</code> would be automatically converted to floating point. Nevertheless, writing floating-point constants with explicit decimal points even when they have integral values emphasizes their floating-point nature for human readers.</p>
<p>The detailed rules for when integers are converted to floating point are in Chapter 2. For now, notice that the assignment</p>
<pre><code class="language-c">fahr = lower;
</code></pre>
<p>and the test</p>
<pre><code class="language-c">while (fahr &lt;= upper)
</code></pre>
<p>also work in the natural way — the <code>int</code> is converted to <em>float</em> before the operation is done.</p>
<p>The <code>printf</code> conversion specification <code>%3.0f</code> says that a floating-point number (here <code>fahr</code>) is to be printed at least three characters wide, with no decimal point and no fraction digits. <code>%6.1f</code> describes another number (<code>celsius</code>) that is to be printed at least six characters wide, with 1 digit after the decimal point. The output looks like this:</p>
<pre><code>  0  -17.8
 20   -6.7
 40    4.4
...
</code></pre>
<p>Width and precision may be omitted from a specification: <code>%6f</code> says that the number is to be at least six characters wide; <code>%.2f</code> specifies two characters after the decimal point, but the width is not constrained; and <code>%f</code> merely says to print the number as floating point.</p>
<div class="table-wrapper"><table><thead><tr><th><strong>Format</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td><code>%d</code></td><td><em>Print as decimal integer</em></td></tr>
<tr><td><code>%6d</code></td><td><em>Print as decimal integer, at least 6 characters wide</em></td></tr>
<tr><td><code>%f</code></td><td><em>Print as floating point</em></td></tr>
<tr><td><code>%6f</code></td><td><em>Print as floating point, at least 6 characters wide</em></td></tr>
<tr><td><code>%.2f</code></td><td><em>Print as floating point, 2 digits after decimal point</em></td></tr>
<tr><td><code>%6.2f</code></td><td><em>Print as floating point, at least 6 wide and 2 after decimal point</em></td></tr>
</tbody></table>
</div>
<p>Among others, <code>printf</code> also recognizes <code>%o</code> for <em>octal</em>, <code>%x</code> for <em>hexadecimal</em>, <code>%c</code> for <em>character</em>, <code>%s</code> for <em>character string</em>, and <code>%%</code> for itself.</p>
<p><strong>Exercise 1-3.</strong> <em>Modify the temperature conversion program to print a heading above the table.</em></p>
<p><strong>Exercise 1-4.</strong> <em>Write a program to print the corresponding Celsius to Fahrenheit table.</em></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="13-the-for-statement"><a class="header" href="#13-the-for-statement">1.3 The <strong>for statement</strong></a></h2>
<p>There are <em>plenty of different ways</em> to write a program for a particular task. Let's try a <strong>variation</strong> on the temperature converter.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
/* print Fahrenheit-Celsius table */
main()
{
    int fahr;
    for (fahr = 0; fahr &lt;= 300; fahr = fahr + 20)
        printf("%3d %6.1f\n", fahr, (5.0/9.0)*(fahr-32));
}
</code></pre>
<p>This produces the <em>same answers</em>, but it certainly looks <strong>different</strong>. One major change is the elimination of most of the variables; only <code>fahr</code> remains, and we have made it an <strong>int</strong>. The lower and upper limits and the step size appear only as <strong>constants</strong> in the <code>for</code> statement, itself a <em>new construction</em>, and the expression that computes the Celsius temperature now appears as the third argument of <code>printf</code> instead of a separate assignment statement.</p>
<p>This last change is an instance of a <strong>general rule</strong> – in any context where it is permissible to use the value of some type, you can use a <em>more complicated expression</em> of that type. Since the third argument of <code>printf</code> must be a <strong>floating-point value</strong> to match the <code>%6.1f</code>, any floating-point expression can occur here.</p>
<p>The <strong>for statement</strong> is a <em>loop</em>, a generalization of the <code>while</code>. If you compare it to the earlier <code>while</code>, its operation should be clear. Within the parentheses, there are <strong>three parts</strong>, separated by semicolons. The first part, the <strong>initialization</strong>:</p>
<pre><code class="language-c">fahr = 0
</code></pre>
<p>is done <em>once</em>, before the loop proper is entered. The second part is the <strong>test or condition</strong> that controls the loop:</p>
<pre><code class="language-c">fahr &lt;= 300
</code></pre>
<p>This condition is <em>evaluated</em>; if it is <strong>true</strong>, the body of the loop (here a single <code>printf</code>) is executed. Then the <strong>increment step</strong>:</p>
<pre><code class="language-c">fahr = fahr + 20
</code></pre>
<p>is executed, and the condition <em>re-evaluated</em>. The loop terminates if the condition has become <strong>false</strong>. As with the <code>while</code>, the body of the loop can be a <em>single statement</em> or a group of statements enclosed in braces. The initialization, condition and increment can be <em>any expressions</em>.</p>
<p>The choice between <code>while</code> and <code>for</code> is <strong>arbitrary</strong>, based on which seems <em>clearer</em>. The <code>for</code> is usually appropriate for loops in which the initialization and increment are <em>single statements</em> and logically related, since it is more <strong>compact</strong> than <code>while</code> and it keeps the loop control statements together in one place.</p>
<p><strong>Exercise 1-5.</strong> <em>Modify the temperature conversion program to print the table in reverse order, that is, from 300 degrees to 0.</em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
